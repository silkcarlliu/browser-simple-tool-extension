---
alwaysApply: true
---

# Chrome Extension Project Structure

This is a Chrome Extension (Manifest V3) project called "é¡µé¢å·¥å…·åˆé›† - å¢å¼ºç‰ˆ" (Page Tools Collection - Enhanced Version).

## Core Files Structure

- [manifest.json](mdc:manifest.json) - Extension manifest with permissions and configuration
- [content-script.js](mdc:content-script.js) - Main content script injected into web pages (877 lines)
- [background.js](mdc:background.js) - Service worker for background tasks (352 lines)
- [popup.js](mdc:popup.js) - Popup window logic (345 lines)
- [popup.html](mdc:popup.html) - Extension popup UI (234 lines)
- [styles.css](mdc:styles.css) - Styles for content script UI (285 lines)

## Key Architecture

### Content Script Components
- **UIManager class**: Manages floating button and popup UI
  - Creates floating button with ID `maybe-page-tools-float-btn`
  - Creates popup with ID `maybe-page-tools-popup`
- **FeatureManager class**: Implements 12 core features including screenshot, ad removal, element inspection
- **Utils class**: Utility functions for notifications and common operations

### Main Features
1. ğŸ”— é«˜äº®é“¾æ¥ (Highlight Links)
2. ğŸ“¸ é¡µé¢æˆªå›¾ (Page Screenshot) - with floating window hiding logic
3. ğŸ–¼ï¸ å›¾ç‰‡é“¾æ¥ (Image Links)
4. ğŸš« ç§»é™¤å¹¿å‘Š (Remove Ads)
5. ğŸ—‘ï¸ åˆ é™¤å…ƒç´  (Delete Elements)
6. ğŸ” å…ƒç´ æ£€æŸ¥ (Element Inspector)
7. ğŸ“„ æå–æ­£æ–‡ (Extract Main Content)
8. ğŸ’¾ ä¸‹è½½å›¾ç‰‡ (Download Images)
9. ğŸ“¦ æ‰“åŒ…ä¸‹è½½ (Batch Download)
10. ğŸ¨ æ ·å¼è°ƒæ•´ (Style Adjustment)
11. ğŸ“Š é¡µé¢ç»Ÿè®¡ (Page Statistics)
12. ğŸ”§ å¼€å‘è€…å·¥å…· (Developer Tools)

### Communication Pattern
- Content script â†” Background script via `chrome.runtime.sendMessage`
- Background script handles screenshot capture via `chrome.tabs.captureVisibleTab`